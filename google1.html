<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å•ç­”è¡¨å–®</title>
</head>
<body>
    <h2>å•ç­”è¡¨å–®</h2>
    <form id="answerForm">
        <label for="name">å§“åï¼š</label>
        <input type="text" id="name" required>
        <br><br>

        <label for="answer">å›ç­”ï¼š</label>
        <textarea id="answer" required></textarea>
        <br><br>

        <button type="button" onclick="submitAnswer()">æäº¤</button>
    </form>

    <script>
        async function submitAnswer() {
            const name = document.getElementById("name").value;
            const answer = document.getElementById("answer").value;

            if (!name || !answer) {
                alert("è«‹å¡«å¯«å§“åå’Œå›ç­”ï¼");
                return;
            }

            const apiUrl = "https://script.google.com/macros/s/AKfycbxamUfJfjQWQw8kFNFjJUcAFglumWsDKYguzaqT26gqeCu-lS_sKk7Nl7Ug_SCo0gTN/exec"; // æ›¿æ›ç‚ºä½ çš„ API ç¶²å€

            console.log("ğŸ“¡ é€å‡ºè«‹æ±‚è‡³:", apiUrl);
            console.log("ğŸ“¨ ç™¼é€è³‡æ–™:", { name, answer });

            try {
                const response = await fetch(apiUrl, {
                    method: "POST",
                    headers: { "Content-Type": "application/json" },
                    body: JSON.stringify({ name, answer }),
                    mode: "cors"
                });

                console.log("ğŸ”„ å›æ‡‰ç‹€æ…‹:", response.status);
                const result = await response.json();
                console.log("ğŸ“© å›æ‡‰çµæœ:", result);

                if (result.status === "æˆåŠŸ") {
                    alert("æäº¤æˆåŠŸï¼");
                    document.getElementById("answerForm").reset();
                } else {
                    alert("æäº¤å¤±æ•—ï¼š" + result.message);
                }
            } catch (error) {
                console.error("âŒ ç™¼ç”ŸéŒ¯èª¤:", error);
                alert("æäº¤å¤±æ•—ï¼Œè«‹æª¢æŸ¥ç€è¦½å™¨æ§åˆ¶å°");
            }
        }
    </script>
</body>
</html>

